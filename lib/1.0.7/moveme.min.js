class Draggable{constructor(t){this.element=t,this.transitionDuration=0,this.isDragging=!1,this.currentX,this.currentY,this.initialX,this.initialY,this.xOffset=0,this.yOffset=0,this.stepX=1,this.stepY=1,this.handleMouseDown=this.handleMouseDown.bind(this),this.handleMouseMove=this.handleMouseMove.bind(this),this.handleMouseUp=this.handleMouseUp.bind(this),this.element.addEventListener("mousedown",this.handleMouseDown),document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}handleMouseDown(t){this.element.style.userSelect="none",this.initialX=t.clientX-this.xOffset,this.initialY=t.clientY-this.yOffset,t.target===this.element&&(this.isDragging=!0)}setBoundaries(t){this.boundaryElement=t,this.boundaryRect=this.boundaryElement.getBoundingClientRect()}handleMouseMove(t){if(this.isDragging){const e=t.clientX-this.initialX,s=t.clientY-this.initialY,i=Math.round(e/this.stepX)*this.stepX,n=Math.round(s/this.stepY)*this.stepY;if(this.boundaryElement){const t=this.boundaryRect,e=this.element.getBoundingClientRect(),s=t.right-e.width,h=t.bottom-e.height;this.currentX=Math.min(s,Math.max(0,i)),this.currentY=Math.min(h,Math.max(0,n))}else this.currentX=i,this.currentY=n;this.xOffset=this.currentX,this.yOffset=this.currentY,this.setTranslate(this.currentX,this.currentY)}}handleMouseUp(t){this.initialX=this.currentX,this.initialY=this.currentY,this.isDragging=!1}setTranslate(t,e){this.element.style.transitionDuration=`${this.transitionDuration}ms`,this.element.style.transform=`translate3d(${t}px, ${e}px, 0)`}setTransitionDuration(t){"number"==typeof t&&(this.transitionDuration=t)}enableDrag(){this.element.style.cursor="move"}disableDrag(){this.element.style.cursor="auto"}setStepSize(t,e){"number"==typeof t&&(this.stepX=t),"number"==typeof e?this.stepY=e:"number"==typeof t&&(this.stepY=t)}destroy(){this.element.removeEventListener("mousedown",this.handleMouseDown),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp)}}